# ==========================================
# RAILWAY ENVIRONMENT VARIABLES - COMPLETE
# ==========================================
# Copy ALL variables to Railway Dashboard → Variables
# Go to: https://railway.app/project/[your-project] → Variables

# ==========================================
# 1. DJANGO CORE (REQUIRED)
# ==========================================
SECRET_KEY=47++##pw5*gz8%bouu3(=4z@m&hv5gv5sbguvpm=ckz)!vwg9v
DEBUG=False
ALLOWED_HOSTS=*

# ==========================================
# 2. DATABASE (REQUIRED - Use Railway PostgreSQL)
# ==========================================
# Railway automatically provides DATABASE_URL when you add PostgreSQL service
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:cJLHOrfvZxZXHKaMCWdLdRedgHgmIneU@shinkansen.proxy.rlwy.net:38534/railway

# ==========================================
# 3. MONGODB (REQUIRED - Use Railway MongoDB)
# ==========================================
# Railway automatically provides MONGODB_URI when you add MongoDB service
MONGODB_URI=mongodb://mongo:kpdwrBybTiIyKRoUJmOAMfewZKtWqTeu@shuttle.proxy.rlwy.net:23002
MONGODB_DATABASE=radai

# ==========================================
# 4. CORS CONFIGURATION (CRITICAL)
# ==========================================
CORS_ALLOW_ALL_ORIGINS=True
FRONTEND_URL=https://airflow-frontend.vercel.app
BACKEND_URL=https://aiflowbackend-production.up.railway.app
CORS_ALLOWED_ORIGINS=https://airflow-frontend.vercel.app,https://aiflowbackend-production.up.railway.app

# ==========================================
# 5. AWS SES EMAIL CONFIGURATION (REQUIRED FOR PASSWORD RESET)
# ==========================================
# CRITICAL: These SMTP credentials are REQUIRED for:
# - Welcome emails with password setup links
# - Password reset emails
# - User notifications

EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=email-smtp.ap-south-1.amazonaws.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=AKIAQGMP5VCUDN4AZU6O
EMAIL_HOST_PASSWORD=BNkRGHma6/a2j7Z+9E1yDTZWTpYEnQK7lkwo9Ff5S6JG
DEFAULT_FROM_EMAIL=tanzeem.agra@rejlers.ae

# ==========================================
# 6. AWS S3 CONFIGURATION (OPTIONAL - For file storage)
# ==========================================
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_STORAGE_BUCKET_NAME=radai-files
AWS_S3_REGION_NAME=ap-south-1

# ==========================================
# 7. OPENAI API (REQUIRED for AI features)
# ==========================================
OPENAI_API_KEY=your-openai-api-key-here

# ==========================================
# 8. ADDITIONAL SETTINGS
# ==========================================
DJANGO_SETTINGS_MODULE=config.settings
PYTHONUNBUFFERED=1
PORT=8000

# ==========================================
# 9. EMAIL VERIFICATION (OPTIONAL)
# ==========================================
EMAIL_VERIFICATION_REQUIRED=False
EMAIL_VERIFICATION_TOKEN_EXPIRY=86400

# ==========================================
# DEPLOYMENT NOTES:
# ==========================================
# 1. Railway will automatically detect Django and install dependencies
# 2. Make sure railway.toml and Procfile are in the backend folder
# 3. Railway will run: bash railway_start.sh
# 4. Check deployment logs for any errors
# 5. Test email functionality after deployment

# ==========================================
# VERIFICATION CHECKLIST:
# ==========================================
# ✅ All variables copied to Railway Dashboard
# ✅ PostgreSQL service added and connected
# ✅ MongoDB service added and connected (if using)
# ✅ SMTP credentials configured for email
# ✅ CORS origins match your frontend URL
# ✅ OpenAI API key configured
# ✅ .railwayignore file created to speed up deployment
# ✅ Test deployment and check logs

# ==========================================
# TESTING AFTER DEPLOYMENT:
# ==========================================
# 1. Visit: https://[your-backend-url]/api/health/
# 2. Create a test user to verify email sending
# 3. Check Railway logs for any errors
# 4. Test password reset flow
